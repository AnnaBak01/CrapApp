<html>
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script>
      function sendMesFromInputs() {
        var t = getInputTitle();
        var m = getInputTitleMes();
        console.log("m " + m + " t " + t);
        sendMes(t, m);
      }

      function sendMes(title, mes) {
        var my_key =
          "AAAAh_ImxPE:APA91bFHHx7t3lAxnq4sxIUfxQP6v1FlO7EATk9QD_4hcTIj8BZ1fKL1mp3uXtgeiMrIJ_m2bDNcvP4Xm8BN_Vdt-lk42nCLMD7fhD4yGnQj5LGtC9TYxQoJjGi_gGjJnL2gxOfNeweY";

        $.ajax({
          type: "POST",
          url: "https://fcm.googleapis.com/fcm/send",
          headers: {
            Authorization: "key=" + my_key,
          },
          contentType: "application/json",
          dataType: "json",
          data: JSON.stringify({
            to: "/topics/all",
            notification: {
              title: title,
              body: mes,
            },
          }),
          success: function (response) {
            console.log(response);
          },
          error: function (xhr, status, error) {
            console.log(xhr.error);
          },
        });
      }

      function getInputTitle() {
        return "Nowa praca domowa";
      }

      function getInputTitleMes() {
        return document.getElementById("mes").value;
      }
    </script>
  </head>
  <body>
    Treść
    <input id="mes" />
    <button onClick="sendMesFromInputs()">Wyślij</button>
  </body>
</html>
